event testEvent;
automaton blinker:
  cont timer der 1.0;
  disc bool tQ1;
  disc bool tQ2;
  location Start:
    initial;
    edge do timer := 0.0 goto Wait2s;
  location Wait2s:
    edge when timer > 2 do tQ2 := true goto Q2Activated;
  location Q2Activated:
    edge when Button.Pressed do tQ2 := false goto WaitForRelease;
  location WaitForRelease:
    edge when not Button.Pressed goto BlinkQ1On;
  location BlinkQ1On:
    edge when timer > 0.5 do timer := 0.0 goto BlinkQ1Off;
  location BlinkQ1Off:
    edge when timer > 0.5 do timer := 0.0 goto BlinkQ1On;
end
automaton Button:
  location Released:
    initial;
    edge testEvent goto Pressed;
  location Pressed:
    edge testEvent goto Released;
end
